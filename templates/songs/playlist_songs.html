{% extends 'layouts/base.html' %}
{% load static %}
{% load thumbnail %}


{% block content %}


  
            <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.4.6/tailwind.min.css'>


<style type="text/css">
    
  @media screen and (max-width: 960px){
.content-grid {
    padding: 92px 0 100px;
}}
.music_container{
  width: 100%;
  position: relative;
  height: 325px;background: transparent;margin-top: 70px;

}
.image_music_playlist{
  width: 150px;height: 175px;
  position: relative;top: 40px;left: calc(50% - 75px);
}
@media (min-width: 1300px){
  .image_music_playlist{
  width: 150px;height: 175px;
  position: relative;top: 40px;left: calc(50% - 135px);
}

}
.image_music_playlist img{
  width: 100%;height:150px;
  object-fit: cover;border-radius: 10px;
}
.image_music_playlist p{
  width: calc(100% + 50px);
  max-width: calc(100% + 50px);
  margin-left: -25px;
  text-align: center;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  padding-top: 10px;
    font-size: 20px;
}
.colums_block{
  width: calc(100% - 15px);position: relative;height: auto;
  margin-left: 15px;
  
  padding-bottom: 20px; 
  border-top: .1rem solid #757575;

}
.amplitude-song-slider:after{
  background: red;
}
.column_music{
  width: 100%;
  height: 60px;position: relative;

  
  
  border-bottom: .1rem solid #757575;
  
}

.name_song{
  width: calc(100% - 225px);
  
  max-width: calc(100% - 225px);
  
  text-align: start;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  padding-top: 10px;
  position: absolute;
  font-weight: bold;


  color: white;
    font-size: 15px;

}
.icon_play_music, .icon_favorite_p{
  width: 30px;height: 30px;
  position: absolute;
  margin-top: 10px;
  margin-left: calc(100% - 100px);
}
.icon_play_music svg{
  fill:white;
}
.icon_favorite_p{
  margin-left: calc(100% - 50px);

}
.icon_favorite_p svg{
  fill:white;
}

@media (max-width: 1365px){
.colums_block{
  width: calc(100% - 2px);position: relative;height: auto;
  margin-left: 1px;
  
  padding-bottom: 40px; 
  border-top: .1rem solid #757575;

}
.name_song{
  
  
  
  padding-top: 10px;
  
  padding-left: 5px;


  color: white;
    font-size: 15px;

}

}
@media(max-width: 600px){
  .name_song{
  
  
  
  width: calc(100% - 200px);
  max-width: calc(100% - 200px);

}

}

@media(max-width: 500px){
  .name_song{
  
  
  
  width: calc(100% - 150px);
  max-width: calc(100% - 150px);
  

}
.icon_play_music, .icon_favorite_p{
  width: 23px;height: 23px;margin-top: 15px;margin-left: calc(100% - 70px)
}
.icon_favorite_p {
    margin-left: calc(100% - 35px);
}

}
@media(max-width: 300px){
  .name_song{
  
  
  
  width: calc(100% - 120px);
  max-width: calc(100% - 120px);
  

}
.icon_play_music, .icon_favorite_p{
  width: 20px;height: 20px;margin-top: 15px;margin-left: calc(100% - 67px)
}
.icon_favorite_p {
    margin-left: calc(100% - 32px);
}

}
audio, canvas, embed, iframe, img, object, svg, video {
    display: inline-block;
    vertical-align: middle;
}

</style>
    <main id="pageWrapper">
       
     
               
                
                         
   <div class="music_container">
    <div class="image_music_playlist"><img src="{% static 'images/Apple-Music-Web-1.jpg' %}">
      <p>{{ playlist.name }}</p>

    </div>
    
   </div>
   <div class="colums_block">
    {% for i in musics %}
    {% if i.status_x != "False" %}
    <div class="column_music" video_play_id="{{  forloop.counter|add:"-1" }}" src_audio="{{ i.song.url }}" my_name_audio="{{ i.title }}" id_for_music="{{ forloop.counter }}" statusx="{{ i.status_x }}" >
      {% else %}
       <div class="column_music" video_play_id="{{  forloop.counter|add:"-1" }}" src_audio="{{ i.song }}" my_name_audio="{{ i.title }}" id_for_music="{{ forloop.counter }}" statusx="{{ i.status_x }}" >
      {% endif %}
      <div class="name_song">{{ i.title }}</div>

      <div class="icon_play_music" id="pk{{  forloop.counter|add:"-1"}}"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"/>
  </g>
</g>

</svg></div>
<div class="icon_favorite_p"><svg viewBox="0 -10 511.98685 511"  xmlns="http://www.w3.org/2000/svg"><path d="m114.59375 491.140625c-5.609375 0-11.179688-1.75-15.933594-5.1875-8.855468-6.417969-12.992187-17.449219-10.582031-28.09375l32.9375-145.089844-111.703125-97.960937c-8.210938-7.167969-11.347656-18.519532-7.976562-28.90625 3.371093-10.367188 12.542968-17.707032 23.402343-18.710938l147.796875-13.417968 58.433594-136.746094c4.308594-10.046875 14.121094-16.535156 25.023438-16.535156 10.902343 0 20.714843 6.488281 25.023437 16.511718l58.433594 136.769532 147.773437 13.417968c10.882813.980469 20.054688 8.34375 23.425782 18.710938 3.371093 10.367187.253906 21.738281-7.957032 28.90625l-111.703125 97.941406 32.9375 145.085938c2.414063 10.667968-1.726562 21.699218-10.578125 28.097656-8.832031 6.398437-20.609375 6.890625-29.910156 1.300781l-127.445312-76.160156-127.445313 76.203125c-4.308594 2.558594-9.109375 3.863281-13.953125 3.863281zm141.398438-112.875c4.84375 0 9.640624 1.300781 13.953124 3.859375l120.277344 71.9375-31.085937-136.941406c-2.21875-9.746094 1.089843-19.921875 8.621093-26.515625l105.472657-92.5-139.542969-12.671875c-10.046875-.917969-18.6875-7.234375-22.613281-16.492188l-55.082031-129.046875-55.148438 129.066407c-3.882812 9.195312-12.523438 15.511718-22.546875 16.429687l-139.5625 12.671875 105.46875 92.5c7.554687 6.613281 10.859375 16.769531 8.621094 26.539062l-31.0625 136.9375 120.277343-71.914062c4.308594-2.558594 9.109376-3.859375 13.953126-3.859375zm-84.585938-221.847656s0 .023437-.023438.042969zm169.128906-.0625.023438.042969c0-.023438 0-.023438-.023438-.042969zm0 0"/></svg></div>

      
      
    </div>
    {% endfor %}
    

    
   </div>
           



                       
                  
           
      
       
    </main>
   

  <div id="audioPlayer" class="player-primary " style="visibility: hidden;">

    <div id="progress-container">
        <input type="range" class="amplitude-song-slider">
        <progress id="song-played-progress" class="audio-progress audio-progress--played amplitude-song-played-progress" value="0"></progress>
        <progress id="song-buffered-progress" class="audio-progress audio-progress--buffered amplitude-buffered-progress" value="1"></progress>
    </div>
   <div class="audio">
        <div class="song-image">
            <img data-amplitude-song-info="cover_art_url" src="/assets/images/Apple-Music-Web-1.jpg" alt="">
            <div class="loader15"></div>
        </div>
        <div class="song-info pl-3">
            <span class="song-name d-inline-block text-truncate" data-amplitude-song-info="name"></span>
            <span class="song-artists d-block text-muted" data-amplitude-song-info="artist"></span>
        </div>
    </div>
    <div class="audio-controls">
        <div class="audio-controls--left d-flex mr-auto">
            <button class="btn btn-icon-only amplitude-repeat amplitude-repeat-off btn_pok">
                <i class="ion-md-sync"></i>
            </button>
        </div>
        <div class="audio-controls--main d-flex">
            <button class="btn btn-icon-only amplitude-prevx btn_pok" id_for_music="">
                <i class="ion-md-skip-backward" style="color: white"></i>
            </button>
            <button class="btn btn-air btn-pill btn-default btn-icon-only amplitude-play-pause amplitude-paused btn_pok">
                <i class="ion-md-play"></i> <i class="ion-md-pause"></i>
            </button>
            <button class="btn btn-icon-only amplitude-nextx btn_pok" id_for_music="">
                <i class="ion-md-skip-forward"  style="color: white"></i>
            </button>
        </div>
        <div class="audio-controls--right d-flex ml-auto">
            <button class="btn btn-icon-only amplitude-shuffle amplitude-shuffle-off btn_pok">
                <i class="ion-md-shuffle"></i>
            </button>
        </div>
    </div>
    <div class="audio-info d-flex align-items-center pr-4">
        <span class="mr-4">
            <span class="amplitude-current-minutes">00</span>:<span class="amplitude-current-seconds">00</span> /
            <span class="amplitude-duration-minutes">00</span>:<span class="amplitude-duration-seconds">00</span>
        </span>
        <div class="audio-volume dropdown">
            <button class="btn btn-icon-only btn_pok btn_volume_change" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="ion-md-volume-low"></i>
            </button>

            <div class="dropdown-menu dropdown-menu-right volume-dropdown-menu valume_change_dropdown"  status="noshow"x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-50px, -45px, 0px);" x-out-of-boundaries="">
                <input type="range" class="amplitude-volume-slider">
            </div>
        </div>
        <div class="dropleft">
            <button class="btn btn-icon-only btn_pok" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="la la-ellipsis-v"></i></button>
            <ul class="dropdown-menu">
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-heart-o"></i>
                        <span>Favorite</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-plus"></i> <span>Add to Playlist</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-download"></i> <span>Download</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-share-alt"></i> <span>Share</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="#" class="dropdown-link">
                        <i class="la la-info-circle"></i> <span>Song Info</span>
                    </a>
                </li>
            </ul>
        </div>
        <button class="btn btn-icon-only btn_pok" id="playList"><i class="ion-md-musical-note"></i></button>
    </div>
</div>
   
    <div id="audioPlayer" class="player-primary player-dark" style="visibility: hidden;">
    <div id="progress-container">
        <input type="range" class="amplitude-song-slider">
        <progress id="song-played-progress" class="audio-progress audio-progress--played amplitude-song-played-progress" value="0"></progress>
        <progress id="song-buffered-progress" class="audio-progress audio-progress--buffered amplitude-buffered-progress" value="1"></progress>
    </div>
    <div class="audio">
        <div class="song-image">
            <img data-amplitude-song-info="cover_art_url" src="/assets/images/Apple-Music-Web-1.jpg" alt="">
            <div class="loader15"></div>
        </div>
        <div class="song-info pl-3">
            <span class="song-name d-inline-block text-truncate" data-amplitude-song-info="name"></span>
            <span class="song-artists d-block text-muted" data-amplitude-song-info="artist"></span>
        </div>
    </div>
    <div class="audio-controls">
        <div class="audio-controls--left d-flex mr-auto">
            <button class="btn btn-icon-only amplitude-repeat amplitude-repeat-off btn_pok">
                <i class="ion-md-sync"></i>
            </button>
        </div>
        <div class="audio-controls--main d-flex">
            <button class="btn btn-icon-only amplitude-prevx btn_pok" id_for_music="">
                <i class="ion-md-skip-backward"></i>
            </button>
            <button class="btn btn-air btn-pill btn-default btn-icon-only amplitude-play-pause amplitude-paused btn_pok">
                <i class="ion-md-play"></i> <i class="ion-md-pause"></i>
            </button>
            <button class="btn btn-icon-only amplitude-nextx btn_pok" id_for_music="">
                <i class="ion-md-skip-forward"></i>
            </button>
        </div>
        <div class="audio-controls--right d-flex ml-auto">
            <button class="btn btn-icon-only amplitude-shuffle amplitude-shuffle-off btn_pok">
                <i class="ion-md-shuffle"></i>
            </button>
        </div>
    </div>
    <div class="audio-info d-flex align-items-center pr-4">
        <span class="mr-4">
            <span class="amplitude-current-minutes">00</span>:<span class="amplitude-current-seconds">00</span> /
            <span class="amplitude-duration-minutes">00</span>:<span class="amplitude-duration-seconds">00</span>
        </span>
        <div class="audio-volume dropdown">
            <button class="btn btn-icon-only btn_pok btn_volume_change" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="ion-md-volume-low"></i>
            </button>

            <div class="dropdown-menu dropdown-menu-right volume-dropdown-menu valume_change_dropdown"  status="noshow"x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(-50px, -45px, 0px);" x-out-of-boundaries="">
                <input type="range" class="amplitude-volume-slider">
            </div>
        </div>
        <div class="dropleft">
            <button class="btn btn-icon-only btn_pok" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="la la-ellipsis-v"></i></button>
            <ul class="dropdown-menu">
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-heart-o"></i>
                        <span>Favorite</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-plus"></i> <span>Add to Playlist</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-download"></i> <span>Download</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="javascript:void(0);" class="dropdown-link">
                        <i class="la la-share-alt"></i> <span>Share</span>
                    </a>
                </li>
                <li class="dropdown-item">
                    <a href="#" class="dropdown-link">
                        <i class="la la-info-circle"></i> <span>Song Info</span>
                    </a>
                </li>
            </ul>
        </div>
        <button class="btn btn-icon-only btn_pok" id="playList"><i class="ion-md-musical-note"></i></button>
    </div>
</div>
 <div id="waveform-load"></div>
                <div id="waveform" style="display: none;"></div>


   

{% endblock %}

{% block javascripts %}

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/amplitudejs@5.0.2/dist/amplitude.min.js"></script>
    <script src="{% static 'js/wavesurfer1.js' %}"></script>
    <script type="text/javascript">
var my_src = []
var my_id = []
var first_id = []
i = -1
music_num=0
console.log($(".column_music").eq(0).attr("src_audio"), "ff")
var music_array = $(".column_music")
var myarr = []
 

  Amplitude.init({
            "songs": [],
            "bindings": {
                32: 'play_pause'
            },
            "callbacks": {
                'play': function () {
                    wavesurfer.play();
                    wavesurfer.setCurrentTime(Amplitude.getSongPlayedSeconds());
                },
                'timeupdate': function () {
                    wavesurfer.setCurrentTime(Amplitude.getSongPlayedSeconds());
                },
                'seeked': function () {
                    wavesurfer.setCurrentTime(Amplitude.getSongPlayedSeconds());
                },
                'pause': function () {
                    wavesurfer.setCurrentTime(Amplitude.getSongPlayedSeconds());
                    wavesurfer.pause();
                }
            }
        });
$(document).on("click", ".amplitude-nextx", function(){
  var next_id  =parseInt($(this).attr("id_for_music"))
  var music_src = ""
  var statusx ="" 
  var my_name_audio = ""

  console.log(music_array)
  console.log("music_num", next_id)
 
  
  if (music_array[next_id]!=undefined){
    if (music_num==0){
    //music_num+=2
     music_num++;


  }
  else{
     music_num++;

  }
  $(this).attr("id_for_music", music_num)
    $(".amplitude-prevx").attr("id_for_music", music_num)



    music_src = music_array.eq(next_id).attr("src_audio")
    my_name_audio = music_array.eq(next_id).attr("my_name_audio")
    statusx = music_array.eq(next_id).attr("statusx")
    $(this).attr("video_play_id", music_array.eq(next_id).attr("video_play_id"))
     var id  = String($(this).attr("video_play_id"))
   //var id_p = id+ "pkl"
   var id_p_p = "pk"+id
   
   first_id.push("pk"+music_array.eq(next_id).attr("video_play_id"))
   console.log(first_id, "my_id")
   
   var next_id_minus = next_id-1
   console.log(next_id_minus, "next_id")

     $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-2]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)
    my_src.push(music_src)
    let wavesurfer = WaveSurfer.create({
            container: '#waveform',
            waveColor: '#733ce6',
            progressColor: '#bfbfbf',
            height: 150,
            scrollParent: false,
            responsive: true,
            
            backend: 'MediaElement',
           
            xhr:{ cache: 'default', mode: 'no-cors', method: 'GET', credentials: 'same-origin', redirect: 'follow', referrer: 'client', headers: [ { key: 'Authorization', value: 'my-token', 'Access-Control-Allow-Credentials' : false,
    'Access-Control-Allow-Origin':'*',
    'Access-Control-Allow-Methods':'GET',
    'Access-Control-Allow-Headers':'application/json', } ]}
});


     

        wavesurfer.on('loading', function (integer) {

          console.log("loading:::")
            $('#waveform-load').html("Generating waves.. (" + integer + '%)');
            if (integer<100){
              $(".loader15").css({"display":"block", "position":"absolute", "margin-left": "20px", "margin-top":"-40px", "color":"#252323"})
            }
            if (integer==100){
             
             $(".loader15").css({"display":"none", "position":"relative", "margin-left": "10px", "margin-top":"7px", "color":"#ffffff"})
              
              if (my_src.length==1){
                console.log("salmdk")


                /* if (statusx!="False"){
             Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: music_src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            })  ;}*/

                

 
  $("#play_pause").css("display", "none")
    $("#play_pause1").css("display", "block")
 $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
 //icon_play.css("display", "none")

              }
              
             
             


            }
        });

        
    






       
       
        wavesurfer.on('ready', function (percents) {
          console.log("ready:::")
            wavesurfer.setVolume(0);


            
            $('#waveform-load').empty();
            console.log("successx")


            
              
              Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: music_src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }) ;
             
        });

         wavesurfer.on('seek', function (seeks) {
        });
         console.log("load", music_src)

          
    wavesurfer.load(music_src)



}


})

$(document).on("click", ".amplitude-prevx ", function(){
  var next_id  =parseInt($(this).attr("id_for_music"))
  var music_src = ""
  var statusx ="" 
  var my_name_audio = ""
  console.log(music_array)

  
  if (music_array[music_num-1]!=undefined && music_num-1!=0){
    music_num-=1;
   
    console.log("i", music_num)
    $(this).attr("id_for_music", music_num)
    $(".amplitude-nextx").attr("id_for_music", music_num)
  
    my_name_audio = music_array.eq(next_id-2).attr("my_name_audio")
    statusx = music_array.eq(next_id-2).attr("statusx")

    console.log(music_num-1, "id_for_music")
    if (statusx=="False"){
       music_src = music_array.eq(next_id-2).attr("src_audio")

    }
    else{
       music_src = music_array.eq(next_id-2).attr("src_audio")

    }
    
    my_src.push(music_src)
    $(this).attr("video_play_id", music_array.eq(next_id).attr("video_play_id"))
     var id  = String($(this).attr("video_play_id"))
   //var id_p = id+ "pkl"
   var id_p_p = "pk"+id
   

   first_id.push("pk"+music_array.eq(next_id-2).attr("video_play_id"))
   console.log(first_id, "first_id")
     $("#" +first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_11" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-2]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)
                  let wavesurfer = WaveSurfer.create({
            container: '#waveform',
            waveColor: '#733ce6',
            progressColor: '#bfbfbf',
            height: 150,
            scrollParent: false,
            responsive: true,
            
            backend: 'MediaElement',
           
            xhr:{ cache: 'default', mode: 'no-cors', method: 'GET', credentials: 'same-origin', redirect: 'follow', referrer: 'client', headers: [ { key: 'Authorization', value: 'my-token', 'Access-Control-Allow-Credentials' : false,
    'Access-Control-Allow-Origin':'*',
    'Access-Control-Allow-Methods':'GET',
    'Access-Control-Allow-Headers':'application/json', } ]}
});


    


        wavesurfer.on('loading', function (integer) {
          console.log("loading:::")
            $('#waveform-load').html("Generating waves.. (" + integer + '%)');
            if (integer<100){
              $(".loader15").css({"display":"block", "position":"absolute", "margin-left": "20px", "margin-top":"-40px", "color":"#252323"})
            }
            if (integer==100){
             
             $(".loader15").css({"display":"none", "position":"relative", "margin-left": "10px", "margin-top":"7px", "color":"#ffffff"})
              
              if (my_src.length==1){
                console.log("salmdk")

                 if (statusx!="False"){
             Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: music_src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            })  ;}

                

 
  $("#play_pause").css("display", "none")
    $("#play_pause1").css("display", "block")
 $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
 //icon_play.css("display", "none")

              }
              
             
             


            }
        });

        
    






       
       
        wavesurfer.on('ready', function (percents) {
          console.log("ready:::")
            wavesurfer.setVolume(0);


            
            $('#waveform-load').empty();
            console.log("successx")
            
              
              Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: music_src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }) ;
             
        });

         wavesurfer.on('seek', function (seeks) {
        });

          
    wavesurfer.load(music_src)
    

    console.log(i)
    
  }
  


})



      $(document).on("click", ".column_music", function(event){
   $('#audioPlayer').css('visibility', 'visible');
   $("body").css("height","107vh")
  
  
  var id  = String($(this).attr("video_play_id"))
   var id_p = id+ "pkl"
   var id_p_p = "pk"+id
   
    var music_src = String(id)+"jhytt"
    var icon_play = $("#frtt"+String(id))
    var src = $(this).attr("src_audio")
    var statusx = $(this).attr("statusx")
    var my_name_audio = $(this).attr("my_name_audio")
    $("#btn_playi").attr("name_pl", id_p_p)
    var id_for_music = $(this).attr("id_for_music")
    $(".amplitude-nextx").attr("id_for_music", parseInt(id_for_music))
    $(".amplitude-prevx").attr("id_for_music", parseInt(id_for_music))
    music_num=parseInt(id_for_music)

    
    
    

    
   
    my_src.push(src)

    myarr=[
    {
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }]

    
    first_id.push(id_p_p)
    console.log(first_id, "first_id")
    let wavesurfer = WaveSurfer.create({
            container: '#waveform',
            waveColor: '#733ce6',
            progressColor: '#bfbfbf',
            height: 150,
            scrollParent: false,
            responsive: true,
            
            backend: 'MediaElement',
           
            xhr:{ cache: 'default', mode: 'no-cors', method: 'GET', credentials: 'same-origin', redirect: 'follow', referrer: 'client', headers: [ { key: 'Authorization', value: 'my-token', 'Access-Control-Allow-Credentials' : false,
    'Access-Control-Allow-Origin':'*',
    'Access-Control-Allow-Methods':'GET',
    'Access-Control-Allow-Headers':'application/json', } ]}
});
      
     
        wavesurfer.on('loading', function (integer) {
            $('#waveform-load').html("Generating waves.. (" + integer + '%)');
            if (integer<100){
              $(".loader15").css({"display":"block", "position":"absolute", "margin-left": "20px", "margin-top":"-40px", "color":"#252323"})
            }
            if (integer==100){
             
             $(".loader15").css({"display":"none", "position":"relative", "margin-left": "10px", "margin-top":"7px", "color":"#ffffff"})
              
              if (my_src.length==1){
                $("#" + id_p_p).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                 if (statusx!="False"){
             Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            })  ;}

               

 
  $("#play_pause").css("display", "none")
    $("#play_pause1").css("display", "block")
 $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
 console.log($(this).find(".icon_play_music"))
 
 

              }

              else if (my_src[my_src.length-2]!=my_src[my_src.length-1]){
                console.log("aaa")

                  $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-2]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)

               
                Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }) ;
                $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
                

  
  


  


                
                

              }
              else if (my_src[my_src.length-2]==my_src[my_src.length-1]){
                $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)
                Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }) ;
                 $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
              }
             


            }
        });

        wavesurfer.on('ready', function (percents) {
            wavesurfer.setVolume(0);
            $('#waveform-load').empty();
             if (statusx=="False"){
              if (my_src.length==1){
                $("#" + id_p_p).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)}
                else if (my_src[my_src.length-2]!=my_src[my_src.length-1]){
                  $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-2]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)

               
               
                $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
                

  
  


  


                
                

              }
               else if (my_src[my_src.length-2]==my_src[my_src.length-1]){
                $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
                  $("#" + first_id[first_id.length-2]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)
                
                 $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
 $(".amplitude-play-pause").addClass("kiouhh")
              }
             
              
              Amplitude.playNow ({
                name: String(my_name_audio),
                artist: "",
                album: "",
                url: src,
                cover_art_url: "/assets/images/Apple-Music-Web-1.jpg"
            }) ;}
        });

         wavesurfer.on('seek', function (seeks) {
        });
          if (my_src[i-1]!=my_src[i]){
      Amplitude.pause()


    }

        wavesurfer.load(src);

    
    i++



    
     
    


     



})
$(document).on("click", ".amplitude-play-pause", function(event){
  id_p_p = String($("#btn_playi").attr("name_pl"))
 console.log("length", $(".kiouhh").length)
  
  if ($(".kiouhh").length==0){
    $(".amplitude-play-pause").removeClass("..amplitude-playing amplitude-playing")
    $(".amplitude-play-pause").addClass("kiouhh")
    $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve">
<g>
  <g>
    <path d="M443.86,196.919L141.46,10.514C119.582-2.955,93.131-3.515,70.702,9.016c-22.429,12.529-35.819,35.35-35.819,61.041
      v371.112c0,38.846,31.3,70.619,69.77,70.829c0.105,0,0.21,0.001,0.313,0.001c12.022-0.001,24.55-3.769,36.251-10.909
      c9.413-5.743,12.388-18.029,6.645-27.441c-5.743-9.414-18.031-12.388-27.441-6.645c-5.473,3.338-10.818,5.065-15.553,5.064
      c-14.515-0.079-30.056-12.513-30.056-30.898V70.058c0-11.021,5.744-20.808,15.364-26.183c9.621-5.375,20.966-5.135,30.339,0.636
      l302.401,186.405c9.089,5.596,14.29,14.927,14.268,25.601c-0.022,10.673-5.261,19.983-14.4,25.56L204.147,415.945
      c-9.404,5.758-12.36,18.049-6.602,27.452c5.757,9.404,18.048,12.36,27.452,6.602l218.611-133.852
      c20.931-12.769,33.457-35.029,33.507-59.55C477.165,232.079,464.729,209.767,443.86,196.919z"></path>
  </g>
</g>

</svg>
`)

                  
    Amplitude.pause()

  }
  else{
    
    $(".amplitude-play-pause").addClass("..amplitude-playing amplitude-playing")
    $(".amplitude-play-pause").removeClass("kiouhh")
    $("#" + first_id[first_id.length-1]).html(`<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<g>
  <g>
    <path d="M124.5,0h-35c-44.112,0-80,35.888-80,80v352c0,44.112,35.888,80,80,80h35c44.112,0,80-35.888,80-80V80
      C204.5,35.888,168.612,0,124.5,0z M164.5,432c0,22.056-17.944,40-40,40h-35c-22.056,0-40-17.944-40-40V80
      c0-22.056,17.944-40,40-40h35c22.056,0,40,17.944,40,40V432z"/>
  </g>
</g>
<g>
  <g>
    <path d="M482.5,352c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80h-34c-44.112,0-80,35.888-80,80v352
      c0,44.112,35.888,80,80,80h34c44.112,0,80-35.888,80-80c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20
      c0,22.056-17.944,40-40,40h-34c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h34c22.056,0,40,17.944,40,40v252
      C462.5,343.046,471.454,352,482.5,352z"/>
  </g>
</g>

</svg>
`)
    Amplitude.play()
  }
  

})
    </script>

{% endblock %}